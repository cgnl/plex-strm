# Copy to .env and fill with your own values.

# Caddy DNS challenge (Cloudflare)
CLOUDFLARE_API_TOKEN=YOUR_CLOUDFLARE_API_TOKEN

# Zurg basic auth (must match your Zurg config/base_url credentials)
ZURG_USER=your_zurg_user
ZURG_PASS=your_zurg_password

# Plex PostgreSQL (used by strm_proxy for STRM fallback lookup)
PLEX_PG_HOST=host.docker.internal
PLEX_PG_PORT=5432
PLEX_PG_DATABASE=plex
PLEX_PG_USER=plex
PLEX_PG_PASSWORD=plex
PLEX_PG_SCHEMA=plex

# Plex DB mode for strm_proxy / repair_broken.py
#   postgres (default) or sqlite
PLEX_DB_MODE=postgres

# Only used when PLEX_DB_MODE=sqlite.
# For dockerized strm-proxy, mount this file into the container.
PLEX_SQLITE_PATH=/data/com.plexapp.plugins.library.db

# Plex token (used for local fallback /library/parts/... redirect)
PLEX_TOKEN=

# STRM proxy tuning
FOLLOW_RD_REDIRECTS=0          # Set to 1 for remote Zurg (proxy bytes instead of exposing RD CDN URLs)
STREAM_CHUNK_SIZE=4194304      # 4MB chunk size for proxied streams
ZURG_TIMEOUT=45                # Timeout in seconds for Zurg requests

# Local fallback tuning
ENABLE_LOCAL_FALLBACK=1
LOCAL_FALLBACK_STRICT=1
LOCAL_FALLBACK_MATCH_MODE=audio
LOCAL_FALLBACK_RESOLUTION_PREFERENCE=1080p

# Pipeline behavior knobs (examples/strm_pipeline.sh)
ENABLE_SCAN_GUARD=1
USE_TIMEOUTS=0
MAX_PLEX_STRM_TIME=270
